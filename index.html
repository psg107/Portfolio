<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="./style.css" rel="stylesheet">
    <title>ν¬νΈν΄λ¦¬μ¤</title>
</head>

<body>
    <header>
        <h1>ν¬νΈν΄λ¦¬μ¤</h1>
    </header>
    <div class="container">
        <div class="main">
            <div class="modal-overlay" id="modalOverlay">
                <div class="modal-content">
                    <img src="" alt="image" id="modalImage">
                </div>
            </div>

            <!-- ν”„λ΅ν•„ -->
            <div class="section section-profile">
                <h2>ν”„λ΅ν•„</h2>
                <p>κ°λ°μ λ°•μƒκ³¤μ…λ‹λ‹¤.</p>
            </div>

            <!-- μ—°λ½μ² -->
            <div class="section section-contact">
                <h2>μ—°λ½μ²</h2>
                <p>Email: psg107@naver.com</p>
                <p>GitHub: <a href="https://github.com/psg107">https://github.com/psg107</a></p>
                <p>LinkedIn: <a
                        href="https://www.linkedin.com/in/μƒκ³¤-λ°•-843b8522b/">https://www.linkedin.com/in/μƒκ³¤-λ°•-843b8522b/</a>
                </p>
            </div>

            <!-- ν”„λ΅μ νΈ -->
            <div class="section section-project">
                <h2>ν”„λ΅μ νΈ</h2>
                <div class="projects"></div>
            </div>
        </div>
    </div>

    <script>
        fetch('projects.json')
            .then(response => response.json())
            .then(projects => {
                let projectSection = document.querySelector('.section > .projects');

                projects.forEach(project => {
                    var projectUrl = project.repositoryType !== "Private" ? project.repositoryUrl : null;
                    var url = projectUrl ?? project.link;

                    projectSection.innerHTML += `
                        <div class="project">
                            <div class="project-header">
                                <h3 class="name">${project.name}</h3>
                                <div class="date-btn-container">
                                    <p class="date">(${project.date})</p>
                                    ${project.image != null ? `<button class="show-image-btn" data-image-url="${project.image}">π–ΌοΈ</button>` : ""}
                                </div>
                            </div>

                            <p class="skills">${project.skills.join(', ')}</p>
                            <p class="description">${project.description.replaceAll("\n", "<br/>")}</p>
                            
                            ${url != null ? `
                            <a class="link" target="_blank" href='${url}'>${url}</a>
                            ` : ""}
                        </div>
                    `;
                });

                // λ¨λ‹¬
                const showImageButtons = document.querySelectorAll('.show-image-btn');
                const modalOverlay = document.getElementById('modalOverlay');
                const modalImage = document.getElementById('modalImage');

                showImageButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        const imageUrl = button.getAttribute('data-image-url');
                        if (imageUrl) {
                            modalImage.src = './images/' + imageUrl;
                            modalOverlay.style.display = 'flex';
                        }
                    });
                });
                modalOverlay.addEventListener('click', () => {
                    modalOverlay.style.display = 'none';
                });
            })
            .catch(error => {
                console.error('ν”„λ΅μ νΈ λ°μ΄ν„°λ¥Ό λ¶λ¬μ¤λ” λ° μ‹¤ν¨ν–μµλ‹λ‹¤:', error);
            });
    </script>
</body>

</html>